import { createSignal, onMount } from 'solid-js';
import Frame1 from './components/Frame14';
import Nav from './components/Nav';

export default function App() {
  const [soundEnabled, setSoundEnabled] = createSignal(true);

  // Add click sound globally
  const playClickSound = () => {
    if (!soundEnabled()) return;
    
    const audio = new Audio('/clicking-sound.wav');
    audio.volume = 0.3;
    audio.play().catch(e => console.log('Audio play failed:', e));
  };

  onMount(() => {
    // Add global click listener to all clickable elements
    document.addEventListener('click', (e) => {
      const target = e.target as HTMLElement;
      if (target.closest('[onclick], button, a, [role="button"], .pointer-events-auto, [data-clickable]')) {
        playClickSound();
      }
    }, true);
  });

  return (
    <div 
      class="relative min-h-screen transition-colors duration-300" 
      style={{ 
        "background-color": "var(--background)",
      }}
    >
      <style>{`
        * {
          cursor: url('/Cursor.svg') 24 6, auto;
        }
        
        a, button, [role="button"], .pointer-events-auto {
          cursor: url('data:image/svg+xml;utf8,%3Csvg width="48" height="48" viewBox="0 0 96 96" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cmask id="path-1-outside-1" maskUnits="userSpaceOnUse" x="14" y="7" width="68" height="80" fill="black"%3E%3Crect fill="white" x="14" y="7" width="68" height="80"/%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" d="M35.3344 52L31.7879 46.5813C29.3664 42.8814 24.2083 41.5315 20.2629 43.5599L21.1822 43.0872C20.2031 43.5906 19.7336 44.8455 20.1367 45.8886L25.0458 58.5896C25.824 60.6031 27.8116 63.4508 29.4586 64.8813C29.4586 64.8813 39.3344 73.0554 39.3344 76.1201V80H55.3344L59.3344 72L63.3344 80H67.3344V76.1201C67.3344 73.0554 73.3697 63.4027 73.3697 63.4027C74.4807 61.5264 75.4067 58.2209 75.4067 56.0264V39.8872C75.3344 36.314 72.2971 33.4182 68.5492 33.4182C66.6743 33.4182 65.1556 34.8661 65.1556 36.6537V37.9463C65.1556 34.3731 62.1183 31.4772 58.3705 31.4772C56.4956 31.4772 54.9769 32.9252 54.9769 34.7127V36.0054C54.9769 32.4322 51.9396 29.5363 48.1918 29.5363C46.3168 29.5363 44.7982 30.9843 44.7982 32.7718V34.0645C44.7982 33.4902 44.7368 33.0337 44.6182 32.672L43.5831 16.0049C43.4431 13.751 41.5435 12 39.3344 12C37.1098 12 35.3344 13.7905 35.3344 15.9992V32V52ZM63.4102 48H67.4102V64H63.4102V48ZM55.418 48H59.418V64H55.418V48ZM47.4141 48H51.4141V64H47.4141V48Z"/%3E%3C/mask%3E%3Cpath fill-rule="evenodd" clip-rule="evenodd" d="M35.3344 52L31.7879 46.5813C29.3664 42.8814 24.2083 41.5315 20.2629 43.5599L21.1822 43.0872C20.2031 43.5906 19.7336 44.8455 20.1367 45.8886L25.0458 58.5896C25.824 60.6031 27.8116 63.4508 29.4586 64.8813C29.4586 64.8813 39.3344 73.0554 39.3344 76.1201V80H55.3344L59.3344 72L63.3344 80H67.3344V76.1201C67.3344 73.0554 73.3697 63.4027 73.3697 63.4027C74.4807 61.5264 75.4067 58.2209 75.4067 56.0264V39.8872C75.3344 36.314 72.2971 33.4182 68.5492 33.4182C66.6743 33.4182 65.1556 34.8661 65.1556 36.6537V37.9463C65.1556 34.3731 62.1183 31.4772 58.3705 31.4772C56.4956 31.4772 54.9769 32.9252 54.9769 34.7127V36.0054C54.9769 32.4322 51.9396 29.5363 48.1918 29.5363C46.3168 29.5363 44.7982 30.9843 44.7982 32.7718V34.0645C44.7982 33.4902 44.7368 33.0337 44.6182 32.672L43.5831 16.0049C43.4431 13.751 41.5435 12 39.3344 12C37.1098 12 35.3344 13.7905 35.3344 15.9992V32V52ZM63.4102 48H67.4102V64H63.4102V48ZM55.418 48H59.418V64H55.418V48ZM47.4141 48H51.4141V64H47.4141V48Z" fill="white"/%3E%3Cpath d="M35.3344 52L31.1508 54.7381L40.3344 68.77V52H35.3344ZM31.7879 46.5813L35.9716 43.8432L35.9716 43.8432L31.7879 46.5813ZM20.1367 45.8886L15.4729 47.6912V47.6912L20.1367 45.8886ZM25.0458 58.5896L29.7095 56.7871H29.7095L25.0458 58.5896ZM29.4586 64.8813L26.18 68.6562L26.2248 68.6952L26.2705 68.733L29.4586 64.8813ZM39.3344 80H34.3344V85H39.3344V80ZM55.3344 80V85H58.4246L59.8065 82.2361L55.3344 80ZM59.3344 72L63.8065 69.7639L59.3344 60.8197L54.8622 69.7639L59.3344 72ZM63.3344 80L58.8622 82.2361L60.2442 85H63.3344V80ZM67.3344 80V85H72.3344V80H67.3344ZM73.3697 63.4027L77.6093 66.0535L77.6413 66.0022L77.6721 65.9502L73.3697 63.4027ZM75.4067 39.8872H80.4067V39.8366L80.4057 39.786L75.4067 39.8872ZM44.6182 32.672L39.6278 32.9819L39.6675 33.6209L39.867 34.2294L44.6182 32.672ZM43.5831 16.0049L38.5927 16.3148V16.3148L43.5831 16.0049ZM35.3344 15.9992H30.3344H35.3344ZM67.4102 48H72.4102V43H67.4102V48ZM67.4102 64V69H72.4102V64H67.4102ZM63.4102 64H58.4102V69H63.4102V64ZM63.4102 48M59.418 48H64.418V43H59.418V48ZM59.418 64V69H64.418V64H59.418ZM55.418 64H50.418V69H55.418V64ZM55.418 48M51.4141 48H56.4141V43H51.4141V48ZM51.4141 64V69H56.4141V64H51.4141ZM47.4141 64H42.4141V69H47.4141V64ZM47.4141 48" fill="%23222222" mask="url(%23path-1-outside-1)"/%3E%3C/svg%3E') 24 12, auto;
        }
      `}</style>
      <div class="w-full max-w-[460px] mx-auto px-6 pt-[30px] pb-[120px] sm:px-8 md:px-4">
        <Frame1 />
      </div>
      <Nav soundEnabled={soundEnabled} setSoundEnabled={setSoundEnabled} />
    </div>
  );
}
